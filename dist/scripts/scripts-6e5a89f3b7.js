"use strict";angular.module("meliTestApp",["ngRoute"]).config(["$routeProvider",function(t){t.when("/items",{templateUrl:"/views/resultado.html",controller:"ResultadoCtrl",controllerAs:"resultado"}).when("/items/:id",{templateUrl:"/views/detalle.html",controller:"DetalleCtrl",controllerAs:"detalle"}).otherwise({redirectTo:"/"})}]).config(["$locationProvider",function(t){t.hashPrefix("")}]),angular.module("meliTestApp").controller("MainCtrl",["$scope","$window","$rootScope",function(t,e,o){o.categories=[],t.buscar=function(){e.location.href="#/items?search="+t.productToSearch}}]),angular.module("meliTestApp").directive("busqueda",function(){return{templateUrl:"../../templates/busqueda.html"}}),angular.module("meliTestApp").controller("ResultadoCtrl",["$scope","busquedaSrv","$location","$rootScope",function(t,e,o,r){function n(){o.search().hasOwnProperty("search")&&(t.queryString=o.search().search,i())}function i(){e.listProducts(t.queryString).then(function(e){t.productList=e,r.categories=e.categories})}t.queryString,t.productList,n()}]),angular.module("meliTestApp").controller("DetalleCtrl",["$scope","busquedaSrv","$rootScope","$routeParams",function(t,e,o,r){function n(){t.productId=r.id,i()}function i(){e.getProduct(t.productId).then(function(e){t.productData=e,"new"===t.productData.item.condition?t.productData.item.condition="Nuevo":"used"===t.productData.item.condition&&"Usado"===t.productData.item.condition})}t.productId,t.productData,n()}]),angular.module("meliTestApp").service("busquedaSrv",["$http",function(t){this.listProducts=function(e){return t.get("/api/items?q="+e).then(function(t){return t.data})},this.getProduct=function(e){return t.get("/api/items/"+e).then(function(t){return t.data})}}]);